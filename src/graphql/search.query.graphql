#import "./pokemon.fragment.graphql"

query PokemonSearchByName($name: String!) {
  pokemons: pokemon_v2_pokemon(where: { name: { _ilike: $name } }, order_by: { id: asc }) {
    id
    ...PokemonStat

    abilities: pokemon_v2_pokemonabilities(limit: 3) {
      ...PokemonAbility
    }

    moves: pokemon_v2_pokemonmoves(distinct_on: order, limit: 3) {
      ...PokemonMove
    }

    types: pokemon_v2_pokemontypes(limit: 3) {
      ...PokemonType
    }

    specy: pokemon_v2_pokemonspecy {
      ...PokemonSpecy
    }
  }
}

query PokemonSearchById($id: Int!) {
  pokemon: pokemon_v2_pokemon(where: { id: { _eq: $id } }) {
    ...PokemonDecendent
  }
}
